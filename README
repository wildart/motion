RPi GPU ENCODING
----------------
This code is based on on MMAL branch. GPU encoding desined to work instead of
FFMPEG backend encoder, so all FFMPEG options in the configuration file
will work with RPi GPU encoding.

To get a better video resolution from MMAL device, disable JPEG compression on secondary buffer (set mmalcam_secondary_buffer_jpeg to 0).

Tested on: Linux alarmpi 4.0.8-1-ARCH #1 PREEMPT Mon Jul 13 19:01:02 MDT 2015

Dependencies:
- libjpeg
- libraries from /opt/vc/lib
- libilclient (need to build from /opt/vc/src/hello_pi/libs/ilclient)

Building:
    git checkout omx
    mkdir build
    cd build
    cmake ..
    make

Use configuration file: motion-mmalcam-omx.conf

MMAL README
-----------
This is an experimental version of motion that adds support for the
Raspberry Pi's CSI camera module, via the MMAL API.

As such, this branch has been stripped down to just the code and
some supporting files, and does not at this time contain a means
to build the code. Generated code files have been pre-created
using the original's configure script (see config.h).

Downloading: a temporary prebuilt binary for Raspberry Pi is available at this link:
https://www.dropbox.com/s/jw5r1wss32tdibb/motion-mmal-opt.tar.gz

Known working resolutions:

	352 x 288
	512 x 288
	640 x 480
	768 x 432
	768 x 576
	1024 x 576
	

Original README text
--------------------
Motion up to version 3.1.8 was created and maintained by Jeroen Vreeken.
Versions 3.1.9-3.1.12 was maintained by Kenneth Lavrsen (http://www.lavrsen.dk/)
and Folkert van Heusden (http://www.vanheusden.com/).

From 3.1.12 Motion is project managed by Kenneth Lavrsen and maintained by
a large number of people.

See the file CREDITS for the list of people having made contributions to the
Motion code.

Copyright 2000-2005 by Jeroen Vreeken/Folkert Van Heusden/Kenneth Lavrsen
and the contributors mentioned in the file CREDITS.

The source file netcam_wget.c and netcam_wget.h contains code reused from
GNU Wget. It has been merged and modified for use in the program Motion which
is also released under the terms of the GNU General Public License.
Copyright (C) 1995, 1996, 1997, 1998, 2000, 2001, 2002
Free Software Foundation, Inc.
The code contains additional modifications 
Additional Copyright (C) 2004-2005 Christopher Price,
Angel Carpintero, and other contributing authors.

GNU Wget and Motion is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License as published
by the Free Software Foundation; either version 2 of the License, or
(at your option) any later version.

GNU Wget and Motion is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with Wget; if not, write to the Free Software
Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA. */ 


Installing:

Read the motion.1 manpage for more info

And most of all read the Motion Guide for very detailed description of both
installation and use.
The Motion Guide is part of the distribution (motion_guide.htm).
You are encouraged to look up an up to date version by visiting the Motion
homepage at
http://www.lavrsen.dk/twiki/bin/view/Motion/WebHome
and specifically the Motion Guide at
http://www.lavrsen.dk/twiki/bin/view/Motion/MotionGuide


Support:

Lots of resources at http://www.lavrsen.dk/twiki/bin/view/Motion/WebHome

Please join the mailing list
http://www.lavrsen.dk/twiki/bin/view/Motion/MailingList
Newbies and silly questions are welcome. We prefer support through the mailing
list because more will have benefit from the answers.


Jeroen Vreeken
pe1rxq@amsat.org

Kenneth Lavrsen
kenneth@lavrsen.dk
